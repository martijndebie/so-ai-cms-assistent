(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";e=function(){return o};var n,o={},a=Object.prototype,r=a.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(n){u=function(t,e,n){return t[e]=n}}function p(t,e,n,o){var a=e&&e.prototype instanceof b?e:b,r=Object.create(a.prototype),c=new C(o||[]);return i(r,"_invoke",{value:T(t,n,c)}),r}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=p;var h="suspendedStart",f="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var k={};u(k,s,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(z([])));L&&L!==a&&r.call(L,s)&&(k=L);var I=w.prototype=b.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function M(e,n){function o(a,i,c,s){var l=m(e[a],e,i);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==t(u)&&r.call(u,"__await")?n.resolve(u.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):n.resolve(u).then((function(t){d.value=t,c(d)}),(function(t){return o("throw",t,c,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,e){function r(){return new n((function(n,a){o(t,e,n,a)}))}return a=a?a.then(r,r):r()}})}function T(t,e,o){var a=h;return function(r,i){if(a===g)throw Error("Generator is already running");if(a===v){if("throw"===r)throw i;return{value:n,done:!0}}for(o.method=r,o.arg=i;;){var c=o.delegate;if(c){var s=S(c,o);if(s){if(s===y)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===h)throw a=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=g;var l=m(t,e,o);if("normal"===l.type){if(a=o.done?v:f,l.arg===y)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(a=v,o.method="throw",o.arg=l.arg)}}}function S(t,e){var o=e.method,a=t.iterator[o];if(a===n)return e.delegate=null,"throw"===o&&t.iterator.return&&(e.method="return",e.arg=n,S(t,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var r=m(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,y;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function z(e){if(e||""===e){var o=e[s];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=w,i(I,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=u(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,d,"GeneratorFunction")),t.prototype=Object.create(I),t},o.awrap=function(t){return{__await:t}},_(M.prototype),u(M.prototype,l,(function(){return this})),o.AsyncIterator=M,o.async=function(t,e,n,a,r){void 0===r&&(r=Promise);var i=new M(p(t,e,n,a),r);return o.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(I),u(I,d,"Generator"),u(I,s,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),o.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},o.values=z,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,a){return c.type="throw",c.arg=t,e.next=o,a&&(e.method="next",e.arg=n),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;O(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:z(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),y}},o}function n(t,e,n,o,a,r,i){try{var c=t[r](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(o,a)}window.SmartoctoAI||(window.SmartoctoAI=function(){var t={},o={},a=!1,r={Fact:"#15acf4",Emotion:"#fd0101",Action:"#72c500",Context:"#9a008f"},i="api.smartocto.com";function c(){var e=document.getElementById("smartocto-ai-results");e&&e.remove(),t.containerToolMenu&&t.containerToolMenu.remove();var n=document.getElementById("smartocto-ai-style");n&&n.remove(),t={}}function s(t,e){switch(e){case"headlines":return t&&t.alternatives&&Object.keys(t.alternatives).length>0;case"userneeds":return t&&void 0!==t["Fact-driven"]&&void 0!==t["Context-driven"]&&void 0!==t["Action-driven"]&&void 0!==t["Emotion-driven"];case"metadata":return t&&t.categories&&(t.categories.entities||t.categories.tags||t.categories.user_need);case"userneeds-suggestions":return t&&(t.suggestions||t.examples);default:return!!t}}function l(t,e){var n=document.getElementById(t);n&&(n.style.display=e?"block":"none")}function d(e){t.status.innerHTML=e}function u(e){var n;d(""),l("smartocto-ai-status",!1),t.output.innerHTML=e,l("smartocto-ai-output",!0),n=new Date,t.timestamp.innerHTML="Generated: "+n}function p(e,n){var o;o=e,t.selectedOption.innerText=o,d(n),l("smartocto-ai-status",!!n)}function m(t,e){var n=document.getElementById(e);if(n){var o=document.createDocumentFragment();for(var a in t){var i=t[a],c=document.createElement("div");c.className="smartocto-ai-pill-container";var s=document.createElement("div");s.className="smartocto-ai-pill-bar";var l=i>0?i+3:1;s.style.width="".concat(l,"%"),s.style.backgroundColor=r[a];var d=document.createElement("span");d.className="smartocto-ai-pill-label",d.textContent="".concat(i,"% ").concat(a),c.appendChild(s),c.appendChild(d),o.appendChild(c)}n.innerHTML="",n.appendChild(o)}else console.error("Container element not found.")}function h(e,n){var o='\n        <div style="margin-bottom:10px; display: flow-root;padding-bottom: 10px;border-bottom: 1px solid #E63656;width: 290px;">\n          <div class="smartocto-ai-user-needs-suggestions user-needs-'.concat(e,'">\n            <h3>').concat(e,' suggestion</h3>\n            <div class="toggle-user-needs-content">show</div>\n            <p class="user-needs-suggestions-content" id="user-needs-suggestions-').concat(e,'" style="display:none"> ').concat(n.suggestions," </p>\n          </div>\n          ").concat(n.examples?'\n            <div class="smartocto-ai-user-needs-examples user-needs-'.concat(e,'">\n              <h3>').concat(e,' examples</h3>\n              <div class="toggle-user-needs-content">show</div>\n              <p class="user-needs-examples-content" id="user-needs-examples-').concat(e,'" style="display:none">').concat(n.examples,"</p>\n            </div>\n          "):"","\n        </div>\n      ");t.output.innerHTML+=o}function f(){var a;return a=e().mark((function n(a){var r,c,d,f,g,v,y,b,x,w,k,E,L,I,_,M,T,S,N,O,C,z,j,B,A,H,Z,F;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.timestamp.innerHTML="",r=t.bodytext.value){e.next=6;break}return alert("No bodytext is selected. Try again"),e.abrupt("return");case 6:if(t.headline.value,l("smartocto-ai-output",!1),c=Date.now(),(d=new Headers).append("accept","application/json"),d.append("Content-Type","application/json"),f={request_id:c.toString(),client:o.clientId},g={method:"POST",headers:d,redirect:"follow"},"paragraphs"!==a){e.next=43;break}return e.prev=15,p("paragraphs","<p>One moment please, smartocto.ai generates paragraphs...</p>"),v="https://".concat(i,"/api/ai/").concat(o.brandId,"/rephraser?ref=smartocto_ai_cms_plugin&api_key=").concat(o.apiToken),f.text="".concat(r,"||").concat(r),f.type="pageviews",g.body=JSON.stringify(f),e.next=23,fetch(v,g);case 23:return y=e.sent,e.next=26,y.json();case 26:if(s(b=e.sent,"paragraphs")){e.next=29;break}throw new Error("No or incomplete response received");case 29:for(w in x='<h3>Suggestions</h3><ul class="ai__suggestions-list">',b.alternatives)x+="<li>".concat(b.alternatives[w],"</li>");u(x+="</ul>"),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(15),console.error("Error:",e.t0),p("paragraphs","<p>No or incomplete response received, please try again. ".concat(e.t0.message,"</p>")),t.output.innerHTML="";case 40:return e.abrupt("return");case 43:if("headlines"!==a){e.next=71;break}return e.prev=44,p("headlines","<p>One moment please, smartocto.ai generates headlines...</p>"),v="https://".concat(i,"/api/integrations/v2/").concat(o.brandId,"/ai/headliner?ref=smartocto_ai_cms_plugin&api_key=").concat(o.apiToken),f.text="no title||".concat(r),f.type="pageviews",g.body=JSON.stringify(f),e.next=52,fetch(v,g);case 52:return k=e.sent,e.next=55,k.json();case 55:if(s(E=e.sent,"headlines")){e.next=58;break}throw new Error("No or incomplete response received");case 58:for(I in L='<h3>Suggestions</h3><ul class="ai__suggestions-list">',E.alternatives)L+="<li>".concat(E.alternatives[I],"</li>");u(L+="</ul>"),e.next=69;break;case 64:e.prev=64,e.t1=e.catch(44),console.error("Error:",e.t1),p("headlines","<p>No or incomplete response received, please try again. ".concat(e.t1.message,"</p>")),t.output.innerHTML="";case 69:e.next=161;break;case 71:if("userneeds"!==a){e.next=98;break}return e.prev=72,p("user needs analysis","<p>One moment please, smartocto.ai is analysing...</p>"),v="https://".concat(i,"/api/ai/smartocto/userneeds?ref=smartocto_ai_cms_plugin&brandid=").concat(o.brandId,"&clientid=").concat(o.clientId),g.body=JSON.stringify({text:r}),e.next=78,fetch(v,g);case 78:return _=e.sent,e.next=81,_.json();case 81:if(s(M=e.sent,"userneeds")){e.next=84;break}throw new Error("No or incomplete response received");case 84:T='<h3>User Needs detected:</h3><div id="smartocto-ai-graph-container"></div><ul class="ai__suggestions-list">\n             <li style="display:none">Fact: '.concat(M["Fact-driven"],'</li>\n              <li style="display:none">Context: ').concat(M["Context-driven"],'</li>\n              <li style="display:none">Action: ').concat(M["Action-driven"],'</li>\n              <li style="display:none">Emotion: ').concat(M["Emotion-driven"],"</li>\n              </ul>\n              <h3>Details</h3><p>").concat(M.Explanation,"</p>"),M.Info&&(T+="<h3>Info</h3><p>".concat(M.Info,"</p>")),u(T),m({Fact:M["Fact-driven"],Context:M["Context-driven"],Action:M["Action-driven"],Emotion:M["Emotion-driven"]},"smartocto-ai-graph-container"),e.next=96;break;case 91:e.prev=91,e.t2=e.catch(72),console.error("Error:",e.t2),p("user needs analysis","<p>No or incomplete response received, please try again. ".concat(e.t2.message,"</p>")),t.output.innerHTML="";case 96:e.next=161;break;case 98:if("metadata"!==a){e.next=126;break}return e.prev=99,p("metadata","<p>One moment please, smartocto.ai is extracting metadata</p>"),v="https://".concat(i,"/api/ai/").concat(o.brandId,"/categorizer?ref=smartocto_ai_cms_plugin&api_key=").concat(o.apiToken),f.text=r,g.body=JSON.stringify(f),e.next=106,fetch(v,g);case 106:return S=e.sent,e.next=109,S.json();case 109:if(s(N=e.sent,"metadata")){e.next=112;break}throw new Error("No or incomplete response received");case 112:O=N.categories.entities||[],C="<h3>Metadata:</h3><p>Entities: "+O.join(", ")+"</p>",N.categories.tags&&(C+='<h3 class="smartocto-ai-border-top">Tags</h3><p>'.concat(N.categories.tags,"</p>")),N.categories.user_need&&(C+='<h3 class="smartocto-ai-border-top">User Needs detected</h3><p>'.concat(N.categories.user_need,"</p>")),u(C),e.next=124;break;case 119:e.prev=119,e.t3=e.catch(99),console.error("Error:",e.t3),p("metadata","<p>No or incomplete response received, please try again. ".concat(e.t3.message,"</p>")),t.output.innerHTML="";case 124:e.next=161;break;case 126:if("userneeds-suggestions"!==a){e.next=161;break}p("user needs suggestions","<p>One moment please, smartocto.ai is analysing and thinking... (0%)</p>"),f.text=r,l("smartocto-ai-output",!0),t.output.innerHTML="",z=["actionable","emotional","contextual","functional"],v="https://".concat(i,"/api/ai/").concat(o.brandId,"/rewriter?ref=smartocto_ai_cms_plugin&api_key=").concat(o.apiToken),j=!1,B=0;case 135:if(!(B<z.length)){e.next=160;break}return e.prev=136,A=z[B],f.type=A,g.body=JSON.stringify(f),e.next=142,fetch(v,g);case 142:return H=e.sent,e.next=145,H.json();case 145:if(s(Z=e.sent,"userneeds-suggestions")){e.next=148;break}throw new Error("No or incomplete response received for ".concat(A));case 148:h(A,Z),F=Math.round((B+1)/z.length*100),p("user needs suggestions","<p>One moment please, smartocto.ai is analysing and thinking... (".concat(F,"% completed)</p>")),e.next=157;break;case 153:e.prev=153,e.t4=e.catch(136),console.error("Error processing ".concat(z[B],":"),e.t4),j=!0;case 157:B++,e.next=135;break;case 160:j?(p("user needs suggestions","<p>No or incomplete response received for some suggestions, please try again.</p>"),t.output.innerHTML=""):p("user needs suggestions","");case 161:e.next=168;break;case 163:e.prev=163,e.t5=e.catch(0),console.error("Error in sendToAPI:",e.t5),p("API call","<p>No or incomplete response received, please try again. ".concat(e.t5.message,"</p>")),t.output.innerHTML="";case 168:case"end":return e.stop()}}),n,null,[[0,163],[15,35],[44,64],[72,91],[99,119],[136,153]])})),f=function(){var t=this,e=arguments;return new Promise((function(o,r){var i=a.apply(t,e);function c(t){n(i,o,r,c,s,"next",t)}function s(t){n(i,o,r,c,s,"throw",t)}c(void 0)}))},f.apply(this,arguments)}return{init:function(e){o=e;var n=document.getElementById("smartocto-ai-results");n&&(console.log("AI service UI already exists, removing it first"),n.remove()),a?console.log("Re-initializing SmartOcto AI"):(console.log("Initializing SmartOcto AI for the first time"),a=!0),function(){if(document.getElementById("smartocto-ai-style"))return;var t=chrome.runtime.getURL("smartocto-ai.css"),e=document.createElement("link");e.id="smartocto-ai-style",e.rel="stylesheet",e.type="text/css",e.href=t,document.head.appendChild(e)}(),function(){var t=document.createElement("div");t.id="smartocto-ai-results",t.innerHTML='\n        <div id="smartocto-ai-header-bar">\n          <div id="smartocto-ai-logo">\n            <img width="47" height="28" src="'.concat(chrome.runtime.getURL("images/ai-logo.svg"),'" alt="smartocto.ai">\n          </div>\n          <div id="close-smartocto-ai-suggestions">\n            <img src="').concat(chrome.runtime.getURL("images/cross.svg"),'" title="Close CMS assistent" alt="Close CMS assistent">\n          </div>\n          <div id="minimize-smartocto-ai-suggestions">\n            <img src="').concat(chrome.runtime.getURL("images/minimize.svg"),'" title="Minimze CMS assistent" alt="Minimze CMS assistent">\n          </div>\n          <div id="smartocto-ai-header-title">Editorial Assistent</div>\n        </div>\n        <div id="smartocto-ai-optionbox">\n          <h3>Optimise:</h3>\n          <div class="smartocto-ai-selected-option" data-role="optimise-selected">Ready to use</div>\n        </div>\n        <div id="smartocto-ai-form">\n          <h3>Text selection</h3>\n          <p id="smartocto-ai-instruction"></p>\n          <span style="display:none">\n            <input type="text" id="ai-selected-headline"><br />\n            <button id="ai-input-headline">Copy selected headline</button>\n            <button id="ai-clear-input-headline">Clear</button><br><br />\n          </span>\n          <textarea id="ai-selected-bodytext" placeholder="Select the text to use, and hit \'Copy text\' to get started"></textarea><br />\n          <div class="button-container">\n            <button id="ai-input-body">Copy text</button>\n            <button id="ai-clear-input-body">Clear</button>\n            <button id="ai-generate-headlines" class="smartocto-ai-action" data-action="headlines">Generate headlines</button>\n            <button id="ai-generate-paragraphs" class="smartocto-ai-action" data-action="paragraphs">Generate paragraphs</button>\n            <button id="ai-metadata" class="smartocto-ai-action" data-action="metadata">Extract metadata</button>\n            <button id="ai-analyse-userneeds" class="smartocto-ai-action" data-action="userneeds">Analyse User Needs</button>\n            <button id="ai-userneeds-suggestions" class="smartocto-ai-action" data-action="userneeds-suggestions">User Needs tips</button>\n          </div>\n        </div>\n        <div id="smartocto-ai-status" style="display:none"></div>\n        <div id="smartocto-ai-output"></div>\n        <div id="smartocto-ai-timestamp"></div>\n        <section id="smartocto-ai-bottom-bar" class="bottom-bar">\n          <div class="smartocto-ai-bottom-bar__items">\n            <div class="smartocto-ai-bottom-bar__logo" data-role="bottom-bar-logo"><img src="').concat(chrome.runtime.getURL("images/smartocto-logo.svg"),'" alt="smartocto Logo"></div>\n            <div class="smartocto-ai-bottom-bar__version" data-role="tentacles_version">v0.8 beta</div>\n          </div>\n        </section>\n      '),document.body.appendChild(t);var e=document.createElement("div");e.id="smartocto-ai-toolmenu",e.classList.add("tentacles-toolmenu"),e.innerHTML='\n      <ul class="items" id="menuItems">\n          <li>\n            <button class="menu-button has-ai" data-role="menu-button__ai" id="maximize-smartocto-ai-suggestions">\n              <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">\n                <path d="M37.5,18.75c0,10.355 -8.395,18.75 -18.75,18.75c-10.355,-0 -18.75,-8.395 -18.75,-18.75c0,-10.355 8.395,-18.75 18.75,-18.75c10.355,0 18.75,8.395 18.75,18.75" style="fill-rule:nonzero;"></path>\n                <path d="M18.745,14.792l-0,-2.313l2.793,0l0,15.17l-2.793,-0l-0,-2.313c-0.161,0.3 -0.386,0.615 -0.676,0.946c-0.291,0.33 -0.646,0.626 -1.067,0.886c-0.42,0.26 -0.916,0.481 -1.486,0.661c-0.571,0.18 -1.227,0.27 -1.968,0.27c-1.021,0 -1.982,-0.205 -2.884,-0.616c-0.901,-0.41 -1.682,-0.976 -2.343,-1.697c-0.66,-0.721 -1.181,-1.572 -1.562,-2.553c-0.38,-0.981 -0.57,-2.043 -0.57,-3.184c-0,-1.122 0.19,-2.173 0.57,-3.154c0.381,-0.981 0.902,-1.832 1.562,-2.553c0.661,-0.721 1.442,-1.287 2.343,-1.698c0.902,-0.41 1.863,-0.615 2.884,-0.615c0.741,-0 1.397,0.09 1.968,0.27c0.57,0.18 1.066,0.406 1.486,0.676c0.421,0.27 0.776,0.566 1.067,0.886c0.29,0.32 0.515,0.631 0.676,0.931Zm-4.897,10.514c1.442,-0 2.619,-0.491 3.53,-1.472c0.911,-0.982 1.367,-2.243 1.367,-3.785c-0,-1.522 -0.456,-2.774 -1.367,-3.755c-0.911,-0.981 -2.088,-1.472 -3.53,-1.472c-1.441,0 -2.613,0.491 -3.514,1.472c-0.901,0.981 -1.352,2.233 -1.352,3.755c0,1.542 0.451,2.803 1.352,3.785c0.901,0.981 2.073,1.472 3.514,1.472Z" style="fill:#fff;fill-rule:nonzero;"></path>\n                <path d="M25.233,8.304c-0,-0.541 0.185,-0.991 0.556,-1.352c0.37,-0.36 0.816,-0.54 1.336,-0.54c0.521,-0 0.967,0.18 1.337,0.54c0.371,0.361 0.556,0.811 0.556,1.352c-0,0.541 -0.185,0.991 -0.556,1.352c-0.37,0.36 -0.816,0.54 -1.337,0.54c-0.52,0 -0.966,-0.18 -1.336,-0.54c-0.371,-0.361 -0.556,-0.811 -0.556,-1.352Zm0.511,19.345l-0,-15.17l2.793,0l0,15.17l-2.793,-0Z" style="fill:#fff;fill-rule:nonzero;"></path>\n              </svg>\n            </button>\n          </li>\n          <li>\n            <button class="menu-button" data-role="menu-button__close" id="close-smartocto-ai-toolmenu">\n              <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n                <path d="M13.524 1L8 6.524 2.476 1 1 2.476 6.523 8 1 13.524 2.476 15l5.523-5.524L13.524 15 15 13.524 9.476 8 15 2.476z" fill-rule="evenodd"></path>\n              </svg>\n            </button>\n          </li>\n          <li>\n            <svg width="100%" height="100%" viewBox="0 0 39 5" version="1.1" xmlns="http://www.w3.org/2000/svg">\n              <path d="M13.481,2.708c0,-0.786 -0.516,-1.341 -1.256,-1.341c-0.74,-0 -1.248,0.555 -1.248,1.341c-0,0.794 0.508,1.348 1.248,1.348c0.74,0 1.256,-0.554 1.256,-1.348m0,-1.942l0.717,-0l-0,3.891l-0.717,0l0,-0.593c-0.169,0.308 -0.578,0.709 -1.333,0.709c-1.064,0 -1.888,-0.894 -1.888,-2.065c-0,-1.164 0.824,-2.058 1.888,-2.058c0.755,0 1.164,0.409 1.333,0.709l0,-0.593Z" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M13.481,2.708c0,-0.786 -0.516,-1.341 -1.256,-1.341c-0.74,-0 -1.248,0.555 -1.248,1.341c-0,0.794 0.508,1.348 1.248,1.348c0.74,0 1.256,-0.554 1.256,-1.348Zm0,-1.942l0.717,-0l-0,3.891l-0.717,0l0,-0.593c-0.169,0.308 -0.578,0.709 -1.333,0.709c-1.064,0 -1.888,-0.894 -1.888,-2.065c-0,-1.164 0.824,-2.058 1.888,-2.058c0.755,0 1.164,0.409 1.333,0.709l0,-0.593Z" style="fill:none;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M0.661,1.839c-0,-0.677 0.574,-1.23 1.489,-1.23c1.27,-0 1.618,0.981 1.618,0.981l-0.59,0.373c0,0 -0.264,-0.638 -1.028,-0.638c-0.529,-0 -0.779,0.202 -0.779,0.49c0,0.249 0.129,0.413 0.552,0.467l0.643,0.078c0.96,0.125 1.331,0.568 1.331,1.152c-0,0.677 -0.552,1.261 -1.626,1.261c-1.399,0 -1.724,-1.02 -1.724,-1.02l0.567,-0.365c0,-0 0.272,0.669 1.149,0.669c0.696,-0 0.915,-0.241 0.915,-0.529c0,-0.257 -0.143,-0.413 -0.635,-0.475l-0.642,-0.078c-0.847,-0.109 -1.24,-0.537 -1.24,-1.136" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M0.661,1.839c-0,-0.677 0.574,-1.23 1.489,-1.23c1.27,-0 1.618,0.981 1.618,0.981l-0.59,0.373c0,0 -0.264,-0.638 -1.028,-0.638c-0.529,-0 -0.779,0.202 -0.779,0.49c0,0.249 0.129,0.413 0.552,0.467l0.643,0.078c0.96,0.125 1.331,0.568 1.331,1.152c-0,0.677 -0.552,1.261 -1.626,1.261c-1.399,0 -1.724,-1.02 -1.724,-1.02l0.567,-0.365c0,-0 0.272,0.669 1.149,0.669c0.696,-0 0.915,-0.241 0.915,-0.529c0,-0.257 -0.143,-0.413 -0.635,-0.475l-0.642,-0.078c-0.847,-0.109 -1.24,-0.537 -1.24,-1.136Z" style="fill:none;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M9.258,2.563c0,-0.81 -0.262,-1.23 -0.883,-1.23c-0.679,-0 -0.972,0.459 -0.972,1.354l-0,1.969l-0.714,0l-0,-2.093c-0,-0.81 -0.265,-1.23 -0.886,-1.23c-0.664,-0 -0.949,0.436 -0.949,1.292l0,2.031l-0.737,0l0,-3.907l0.719,0l-0.008,0.559c0.136,-0.288 0.409,-0.699 1.087,-0.699c0.671,-0 1.086,0.327 1.3,1.02l0.114,-0.296c0.136,-0.288 0.503,-0.724 1.181,-0.724c0.907,-0 1.486,0.591 1.486,1.891l-0,2.156l-0.738,0l0,-2.093Z" style="fill:#a1a1a1;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M18.517,3.932c-0.467,0 -0.576,-0.249 -0.576,-0.77l-0,-1.721l0.934,0l-0,-0.785l-0.934,0l-0,-0.697l-0.724,0l0,0.697l-0.825,0c-0.591,0 -0.926,0.202 -1.121,0.646l0,-0.535l-0.723,-0l-0,3.889l0.723,0l0,-2.257c0.016,-0.7 0.343,-0.957 1.02,-0.957l0.288,0l0,-0.001l0.638,0l0,1.822c0,0.95 0.327,1.393 1.121,1.393l0.553,0l-0,-0.724l-0.374,0Z" style="fill:#a1a1a1;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M31.899,0.814c-1.139,0 -2.064,0.841 -2.066,1.881c-0.002,1.041 0.921,1.886 2.062,1.888l3.77,0.008l0.005,-0c1.138,-0 2.063,-0.841 2.065,-1.881c0.003,-1.041 -0.92,-1.886 -2.061,-1.888l-3.771,-0.008c-0.001,0 -0.003,0 -0.004,0Z" style="fill:none;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.6px;"></path>\n              <path d="M33.54,2.702c-0,1.043 -0.846,1.889 -1.889,1.889c-1.043,-0 -1.888,-0.846 -1.888,-1.889c-0,-1.043 0.845,-1.888 1.888,-1.888c1.043,0 1.889,0.845 1.889,1.888" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M33.54,2.702c-0,-1.042 -0.846,-1.888 -1.889,-1.888c-1.042,0 -1.888,0.846 -1.888,1.888c-0,1.043 0.846,1.889 1.888,1.889c1.043,-0 1.889,-0.846 1.889,-1.889Z" style="fill:none;stroke:#a1a1a1;stroke-width:0.58px;"></path>\n              <path d="M22.908,2.544c0,1.043 -0.845,1.889 -1.888,1.889c-1.043,-0 -1.889,-0.846 -1.889,-1.889c0,-1.043 0.846,-1.888 1.889,-1.888c1.043,-0 1.888,0.845 1.888,1.888" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M22.908,2.544c0,-1.042 -0.846,-1.888 -1.888,-1.888c-1.042,-0 -1.889,0.846 -1.889,1.888c0,1.043 0.847,1.889 1.889,1.889c1.042,-0 1.888,-0.846 1.888,-1.889Z" style="fill:none;stroke:#a1a1a1;stroke-width:0.58px;"></path>\n              <path d="M25.216,4.762c-1.16,-0 -1.985,-0.919 -1.985,-2.086c0,-1.16 0.833,-2.078 1.985,-2.078c0.848,-0 1.502,0.49 1.782,1.206l-0.661,0.28c-0.187,-0.474 -0.561,-0.762 -1.121,-0.762c-0.755,-0 -1.261,0.56 -1.261,1.354c-0,0.802 0.506,1.362 1.261,1.362c0.498,0 0.84,-0.233 1.051,-0.638l0.685,0.241c-0.296,0.669 -0.919,1.121 -1.736,1.121" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M25.216,4.762c-1.16,-0 -1.985,-0.919 -1.985,-2.086c0,-1.16 0.833,-2.078 1.985,-2.078c0.848,-0 1.502,0.49 1.782,1.206l-0.661,0.28c-0.187,-0.474 -0.561,-0.762 -1.121,-0.762c-0.755,-0 -1.261,0.56 -1.261,1.354c-0,0.802 0.506,1.362 1.261,1.362c0.498,0 0.84,-0.233 1.051,-0.638l0.685,0.241c-0.296,0.669 -0.919,1.121 -1.736,1.121Z" style="fill:none;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M27.659,3.252l-0,-1.814l-0.662,0l0,-0.724l0.662,0l-0,-0.766l0.723,0l0,0.766l0.935,0l-0,0.724l-0.935,0l0,1.713c0,0.521 0.109,0.77 0.576,0.77l0.374,0l0,0.724l-0.553,0c-0.793,0 -1.12,-0.443 -1.12,-1.393Z" style="fill:#a1a1a1;fill-rule:nonzero;stroke:#a1a1a1;stroke-width:0.02px;"></path>\n              <path d="M22.833,2.567c0,0.999 -0.81,1.81 -1.809,1.81c-1,-0 -1.81,-0.811 -1.81,-1.81c-0,-0.999 0.81,-1.81 1.81,-1.81c0.999,0 1.809,0.811 1.809,1.81" style="fill:#a1a1a1;fill-rule:nonzero;"></path>\n              <path d="M22.833,2.567c0,-0.999 -0.811,-1.81 -1.809,-1.81c-0.999,0 -1.81,0.811 -1.81,1.81c-0,0.999 0.811,1.81 1.81,1.81c0.998,-0 1.809,-0.811 1.809,-1.81Z" style="fill:none;stroke:#a1a1a1;stroke-width:0.63px;"></path>\n            </svg>\n          </li>\n        </ul>',document.body.appendChild(e)}(),t={container:document.getElementById("smartocto-ai-results"),output:document.getElementById("smartocto-ai-output"),status:document.getElementById("smartocto-ai-status"),form:document.getElementById("smartocto-ai-form"),headline:document.getElementById("ai-selected-headline"),bodytext:document.getElementById("ai-selected-bodytext"),timestamp:document.getElementById("smartocto-ai-timestamp"),selectedOption:document.querySelector(".smartocto-ai-selected-option"),containerToolMenu:document.getElementById("smartocto-ai-toolmenu")},document.getElementById("close-smartocto-ai-suggestions").addEventListener("click",(function(){c()})),document.getElementById("close-smartocto-ai-toolmenu").addEventListener("click",(function(){c()})),document.getElementById("minimize-smartocto-ai-suggestions").addEventListener("click",(function(){var e;(e=document.getElementById("smartocto-ai-results"))&&(e.style.display="none"),t.containerToolMenu&&t.containerToolMenu.classList.add("is-visible")})),document.getElementById("maximize-smartocto-ai-suggestions").addEventListener("click",(function(){var e;(e=document.getElementById("smartocto-ai-results"))&&(e.style.display="block"),t.containerToolMenu&&t.containerToolMenu.classList.remove("is-visible")})),t.form.addEventListener("click",(function(e){var n,o=e.target;if("ai-input-headline"===o.id)(n=window.getSelection().toString())?t.headline.value=n:alert("No text selected, try again");else if("ai-input-body"===o.id)!function(){var e=window.getSelection().toString();e?t.bodytext.value+="".concat(e):alert("No text selected, try again or copy/paste manually")}();else if("ai-clear-input-body"===o.id)t.bodytext.value="";else if("ai-clear-input-headline"===o.id)t.headline.value="";else if(o.classList.contains("smartocto-ai-action")){var a=o.dataset.action;a&&function(t){f.apply(this,arguments)}(a)}})),t.output.addEventListener("click",(function(t){t.target.classList.contains("toggle-user-needs-content")&&function(t){var e=t.target.parentNode.querySelector("p"),n=t.target;if(e){var o="none"===e.style.display;e.style.display=o?"block":"none",n.innerText=o?"hide":"show"}}(t)}))},cleanup:c}}()),chrome.storage.sync.get(["option","apiToken","clientId","brandId"],(function(t){if(t.apiToken&&t.clientId&&t.brandId){var e=document.location.hostname;e=e.replace(".",""),localStorage.setItem("clientId",t.clientId),localStorage.setItem("brandId",t.brandId),localStorage.setItem("apiToken",t.apiToken),localStorage.setItem("injectedOption",t.option),window.SmartoctoAI.init(t)}else alert("Credentials are missing. Check the credentials at the Options.")}))})();